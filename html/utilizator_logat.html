<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComPaste | Posts </title>
    <link rel="stylesheet" href="../style/logat.css">
    <!-- Include CodeMirror CSS -->
    <link rel="stylesheet" href="../codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="../codemirror/lib/monokai.css">

</head>
<body>
    <div class="stanga">
     <div class="navbar">
        <div class="left-buttons">
            <a href="../index.html" class="menu_button">Main Page</a>
            <a href="../html/posts.html" class="menu_button" id="b_p">Posts</a>
            <a href="../html/vezi_pp.html" class="menu_button">Your Posts</a>
        </div>
        <div class="right-buttons">
            <a href="log.html" class="menu_button">Log out</a>
        </div>
     </div>
     <div class="main_left">
        <div class="ll">
            <textarea id="inputBox" placeholder="Your code here"></textarea>
             <div class="bottom">
                <input type ="text" class="title_in" placeholder="Document Title" name="titlu">
                <input type ="text" class="title_in" id="t1" placeholder="Folder" name="folder">
                <input type="number" class="numar" name="numar" min="0" placeholder="days">
            </div>  
            <div class="language_buttons_small">
                <div class="limbaj" id="button1">
                    <img src="../images/c++1.png" alt="C++">
                </div>
                <div class="limbaj" id="button2">
                    <img src="../images/java.png" alt="Java">
                </div>
                <div class="limbaj" id="button3">
                    <img src="../images/python.png" alt="Python">
                </div>
                <div class="limbaj" id="button4">
                    <img src="../images/txt.png" alt="TXT">
                </div>
            </div>
            <div class="optiuni-avansate">
                <h2>Advanced options</h2>
                <div class="optiuni-container">
                    <label class="container">Burn after read
                        <input type="checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label class="container">Password protected
                        <input type="checkbox" id="passwordProtected" onchange="showPasswordModal()">
                        <div id="passwordModal" class="modal">
                            <div class="modal-content">
                                <span class="close" onclick="hidePasswordModal()">&times;</span>
                                <h2 style="margin-left: auto;margin-right: auto; margin-top: 0;">Password Protection</h2>
                                <label for="password">Password:</label>
                                <input type="password" id="password">
                                <label for="confirmPassword">Confirm Password:</label>
                                <input type="password" id="confirmPassword" style="margin-bottom: 5px;">
                                <button onclick="submitPassword()" style="background-color:#5E0A8C; color: aliceblue;">Submit</button>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
        
            <div class="selectare-utilizatori">
                <h2>Add colaborators to your post</h2>
                <input type="text" placeholder="Add user" class="input-utilizator">
                <button class="buton" id="b1">Add</button>
                <!-- Lista de utilizatori adăugați va apărea aici -->
            </div>
            <button class="buton" id="but" >Poste it</button> 
        </div>
        <div class="language_buttons">
            <div class="limbaj" id="button1">
                <img src="../images/c++1.png" alt="C++">
            </div>
            <div class="limbaj" id="button2">
                <img src="../images/java.png" alt="Java">
            </div>
            <div class="limbaj" id="button3">
                <img src="../images/python.png" alt="Python">
            </div>
            <div class="limbaj" id="button4">
                <img src="../images/txt.png" alt="TXT">
            </div>
        </div>
        
     </div>
    </div>
    <div class="dreapta">
        <h2 class="title_dreapta">Public Posts</h2>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search...">
            <button type="button" id="searchButton">Search</button>
        </div>
        <div class="postare">
                <a href="view_p.html" class="titlu_postare">Prima postare</a>
                <p class="info_suplimentar">Gigel | 12.02.2023 | 23kb | c++</p>
                <hr>
        </div>
        <div class="postare">
            <a href="view_p.html" class="titlu_postare">O postare cu un titlu ceva mai lung</a>
                <p class="info_suplimentar">Gigel Andrei Becali | 12.02.2023 | 23kb | c++</p>
                <hr>
        </div>
        <div class="postare">
            <a href="#" class="titlu_postare">O postare cu un titlu ceva mai lung decat</a>
            <p class="info_suplimentar">George Octavian Popescu  | 12.02.2023 | 23kb | c++</p>
            <hr>     
        </div>
    </div>


    <!-- Scripturile CodeMirror -->
    <script src="../codemirror/lib/codemirror.js"></script>
    <script src="../codemirror/mode/javascript/javascript.js"></script>
    <script src="../codemirror/mode/clike/clike.js"></script>
    <script src="../codemirror/mode/python/python.js"></script>
    <script src="../codemirror/mode/plain-text/plain-text.js"></script>


    <script>
        var editor = CodeMirror.fromTextArea(document.getElementById('inputBox'), {
            lineNumbers: true,
            mode: 'text/x-csrc',  // Setează modul implicit

        });

        function changeLanguage(language) {
            console.log("Changing language to:", language);
            editor.setOption("mode", language);
        }

        // Event listeners
        document.querySelectorAll('.limbaj').forEach(function(button) {
            button.addEventListener('click', function() {

                var languageId = this.id;
                var language;
                switch (languageId) {
                    case 'button1': language = 'text/x-csrc'; break;  // C/C++
                    case 'button2': language = 'text/x-java'; break;  // Java
                    case 'button3': language = 'python'; break;       // Python
                    case 'button4': language = 'plain-text'; break;   // Plain Text
                    default: return;
                }
                changeLanguage(language);
            });
        });
    </script>

    <script>
        function showPasswordModal() {
            var modal = document.getElementById("passwordModal");
            var checkbox = document.getElementById("passwordProtected");

            if (checkbox.checked) {
                modal.style.display = "block";
            } else {
                modal.style.display = "none";
            }
        }

        function hidePasswordModal() {
            var modal = document.getElementById("passwordModal");
            modal.style.display = "none";
        }

        function submitPassword() {
            var password = document.getElementById("password").value;
            var confirmPassword = document.getElementById("confirmPassword").value;

            if (password !== confirmPassword) {
                alert("Passwords do not match!");
            } else {
                alert("Password was set");
                hidePasswordModal(); 
            }
        }
    </script>
</body>
</html>